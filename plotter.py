from pandas import DataFrame
import numpy
import matplotlib.pyplot as plt

# LOLE_days_year = {
#     'system_peak' : [2000.0, 2040.0, 2100.0, ],
#     'LOLE' : [0.0009677398714480425, 0.0015399362947919057, 0.0030281256726050667, ]
# }
peaks = []
# for peak in range(0, 500, 200):
#     if peak == 0:
#         peaks.append('base = 4287.6')
#         continue
#     if peak == 400:
#         peaks.append('base+' + str(peak))
#         peaks.append('capacity')
#         continue
#     peaks.append('base+' + str(peak))



# LOLE_orig = {'system_peak': [2000.0, 2050.0, 2100.0, 2150.0, 2200.0, 2250.0, 2300.0, 2350.0, 2400.0, 2450.0, 2500.0, 2550.0, 2600.0, 2650.0, 2700.0, 2750.0, 2800.0, 2850.0, 2900.0, 2950.0, 3000.0, 3050.0, 3100.0, 3150.0, 3200.0, 3250.0, 3300.0, 3350.0, 3400.0, 3450.0, 3500.0, 3550.0, 3600.0, 3650.0, 3700.0, 3750.0, 3800.0, 3850.0, 3900.0, 3950.0, 4000.0, 4050.0, 4100.0, 4150.0, 4200.0, 4250.0, 4300.0, 4350.0, 4400.0, 4450.0, 4500.0, 4550.0, 4600.0, 4650.0, 4700.0, 4750.0, 4800.0, 4850.0, 4900.0, 4950.0, 5000.0], 'LOLE': [2.651342113556281e-06, 4.728538616740172e-06, 8.296234719465936e-06, 1.4303127911204371e-05, 2.4284036977288503e-05, 4.057853410072214e-05, 6.675611246408277e-05, 0.00010829276369933885, 0.0001729938050671965, 0.00027265043176189353, 0.0004238168099176955, 0.0006496497760597971, 0.0009836077248503868, 0.0014688205684577965, 0.00216684039831215, 0.003156281221020994, 0.004540276802208233, 0.006453951035714925, 0.009061643096121372, 0.012577014376010642, 0.017243823787700584, 0.0233880724697219, 0.03132876757298073, 0.04153156449857248, 0.05440921306229038, 0.07048501839025187, 0.09036313776511487, 0.11441757147935473, 0.14350679539064015, 0.17764026247639159, 0.21784908440367046, 0.2636750648790215, 0.3158393083043761, 0.3739562999845877, 0.4371297979878188, 0.5060811685184523, 0.5769529533516842, 0.6515364727462652, 0.7227868849008182, 0.7926981354813492, 0.8534314733229175, 0.904670625354183, 0.9458923533138456, 0.9702011855924726, 0.9899830711609281, 0.9951127487448447, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997]}
# LOLE_new_200 = {'system_peak': [2000.0, 2050.0, 2100.0, 2150.0, 2200.0, 2250.0, 2300.0, 2350.0, 2400.0, 2450.0, 2500.0, 2550.0, 2600.0, 2650.0, 2700.0, 2750.0, 2800.0, 2850.0, 2900.0, 2950.0, 3000.0, 3050.0, 3100.0, 3150.0, 3200.0, 3250.0, 3300.0, 3350.0, 3400.0, 3450.0, 3500.0, 3550.0, 3600.0, 3650.0, 3700.0, 3750.0, 3800.0, 3850.0, 3900.0, 3950.0, 4000.0, 4050.0, 4100.0, 4150.0, 4200.0, 4250.0, 4300.0, 4350.0, 4400.0, 4450.0, 4500.0, 4550.0, 4600.0, 4650.0, 4700.0, 4750.0, 4800.0, 4850.0, 4900.0, 4950.0, 5000.0], 'LOLE': [4.618970213352453e-07, 8.506347003170973e-07, 1.5405429964023189e-06, 2.744976228394228e-06, 4.814611598504005e-06, 8.31353816371287e-06, 1.4142222492502142e-05, 2.370209148859235e-05, 3.91550137848539e-05, 6.378572386541397e-05, 0.00010246218220801878, 0.0001624284649339596, 0.0002540551970440905, 0.000392267445430059, 0.0005981191687557156, 0.0009003129205544918, 0.001339274632584746, 0.0019673336151820845, 0.002856320668091645, 0.004098354536518531, 0.0058106315007560435, 0.008147363179114202, 0.011288355543805886, 0.015472469388265403, 0.020960362715158165, 0.028097767061773467, 0.03723220459219273, 0.048820165196649216, 0.06331897129512387, 0.08120054279886435, 0.10311173242896902, 0.12934332081931998, 0.16074004668201247, 0.1972718662272099, 0.23977715576208414, 0.2879156752429635, 0.3419506728091058, 0.4017143172607544, 0.465695506679118, 0.5347428652147417, 0.6046008053488066, 0.6768498880070566, 0.7450974317421201, 0.8104484404924602, 0.8670866331067174, 0.9137148376932483, 0.9513031179824606, 0.9731810670332254, 0.9909847640448353, 0.9956014738703602, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998]}
# LOLE_new_400 = {'system_peak': [2000.0, 2050.0, 2100.0, 2150.0, 2200.0, 2250.0, 2300.0, 2350.0, 2400.0, 2450.0, 2500.0, 2550.0, 2600.0, 2650.0, 2700.0, 2750.0, 2800.0, 2850.0, 2900.0, 2950.0, 3000.0, 3050.0, 3100.0, 3150.0, 3200.0, 3250.0, 3300.0, 3350.0, 3400.0, 3450.0, 3500.0, 3550.0, 3600.0, 3650.0, 3700.0, 3750.0, 3800.0, 3850.0, 3900.0, 3950.0, 4000.0, 4050.0, 4100.0, 4150.0, 4200.0, 4250.0, 4300.0, 4350.0, 4400.0, 4450.0, 4500.0, 4550.0, 4600.0, 4650.0, 4700.0, 4750.0, 4800.0, 4850.0, 4900.0, 4950.0, 5000.0], 'LOLE': [2.769957216434644e-07, 4.97540172219958e-07, 8.799896131047614e-07, 1.5308516353044258e-06, 2.6251665078209825e-06, 4.435634248827815e-06, 7.3865307709765205e-06, 1.2143939807320203e-05, 1.9685588407607346e-05, 3.152072792994257e-05, 4.9848292237975966e-05, 7.783779272475083e-05, 0.00012021640576328562, 0.00018340273753511712, 0.0002767645410475773, 0.00041309160943019205, 0.0006097221047799877, 0.0008907804921558842, 0.001287599438536749, 0.0018423862360535663, 0.0026096293311340937, 0.0036607457585828888, 0.005083033115777687, 0.006993809548774821, 0.009527170428215116, 0.012857057771167291, 0.017191792563019417, 0.02276107008634376, 0.029870120947993274, 0.038813291470387576, 0.049980799256048335, 0.063745914536616, 0.08055222258649757, 0.10083214654968412, 0.12503980378738408, 0.1535839311832635, 0.18685141118674367, 0.22502988350337796, 0.2683428644533842, 0.31657737193925356, 0.36959852480622957, 0.42702773252154674, 0.4880060535204209, 0.5524931702258535, 0.6182559651326075, 0.6858941003461225, 0.7505081964107352, 0.8134283219332128, 0.8680883259906242, 0.9142035628187636, 0.9513031179824604, 0.9731810670332252, 0.990984764044835, 0.99560147387036, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996]}
# # LOLE_line = {
# #     'system_peak' : [4287.6 for n in LOLE_new_400['system_peak']],
# #     'LOLE' : [0 for k in LOLE_new_400['LOLE'] ]
# # }

# # print(LOLE_line)

# data values
LOLE_new_reduced_hydro_0 = {'system_peak': [2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0, 3700.0, 3800.0, 3900.0, 4000.0, 4100.0, 4200.0, 4300.0, 4400.0, 4500.0, 4600.0, 4700.0, 4800.0, 4900.0, 5000.0, 5100.0, 5200.0, 5300.0, 5400.0, 5500.0, 5600.0, 5700.0, 5800.0, 5900.0, 6000.0, 6100.0, 6200.0, 6300.0, 6400.0, 6500.0, 6600.0, 6700.0, 6800.0, 6900.0, 7000.0, 7100.0, 7200.0, 7300.0, 7400.0, 7500.0, 7600.0, 7700.0, 7800.0, 7900.0, 8000.0, 8100.0, 8200.0, 8300.0, 8400.0, 8500.0, 8600.0, 8700.0, 8800.0, 8900.0, 9000.0, 9100.0, 9200.0, 9300.0, 9400.0, 9500.0, 9600.0, 9700.0, 9800.0, 9900.0, 10000.0], 'LOLE': [2.651342113556281e-06, 8.296234719465936e-06, 2.4284036977288503e-05, 6.675611246408277e-05, 0.0001729938050671965, 0.0004238168099176955, 0.0009836077248503868, 0.00216684039831215, 0.004540276802208233, 0.009061643096121372, 0.017243823787700584, 0.03132876757298073, 0.05440921306229038, 0.09036313776511487, 0.14350679539064015, 0.21784908440367046, 0.3158393083043761, 0.4371297979878188, 0.5769529533516842, 0.7227868849008182, 0.8534314733229175, 0.9458923533138456, 0.9899830711609281, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997]}
# LOLE_new_500 = {'system_peak': [2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0, 3700.0, 3800.0, 3900.0, 4000.0, 4100.0, 4200.0, 4300.0, 4400.0, 4500.0, 4600.0, 4700.0, 4800.0, 4900.0, 5000.0, 5100.0, 5200.0, 5300.0, 5400.0, 5500.0, 5600.0, 5700.0, 5800.0, 5900.0, 6000.0, 6100.0, 6200.0, 6300.0, 6400.0, 6500.0, 6600.0, 6700.0, 6800.0, 6900.0, 7000.0, 7100.0, 7200.0, 7300.0, 7400.0, 7500.0, 7600.0, 7700.0, 7800.0, 7900.0, 8000.0, 8100.0, 8200.0, 8300.0, 8400.0, 8500.0, 8600.0, 8700.0, 8800.0, 8900.0, 9000.0, 9100.0, 9200.0, 9300.0, 9400.0, 9500.0, 9600.0, 9700.0, 9800.0, 9900.0, 10000.0], 'LOLE': [2.6769190980103887e-07, 8.414849819560546e-07, 2.4787698386086393e-06, 6.872374056222024e-06, 1.8010300031009527e-05, 4.476788889237892e-05, 0.00010582738373096682, 0.00023853967310918326, 0.0005141081814369064, 0.0010618587341710238, 0.002105817507694396, 0.004018123709661825, 0.0073910776647083745, 0.0131225628984973, 0.02250615832557169, 0.037304349849296044, 0.05977982164611881, 0.09268127155484188, 0.13902211932377062, 0.201434804341657, 0.28140732329559426, 0.37884461280532256, 0.49241512530512943, 0.6192576580165146, 0.7505081964107352, 0.8680883259906242, 0.9513031179824604, 0.9909847640448352, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997]}
# LOLE_new_1000 = {'system_peak': [2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0, 3700.0, 3800.0, 3900.0, 4000.0, 4100.0, 4200.0, 4300.0, 4400.0, 4500.0, 4600.0, 4700.0, 4800.0, 4900.0, 5000.0, 5100.0, 5200.0, 5300.0, 5400.0, 5500.0, 5600.0, 5700.0, 5800.0, 5900.0, 6000.0, 6100.0, 6200.0, 6300.0, 6400.0, 6500.0, 6600.0, 6700.0, 6800.0, 6900.0, 7000.0, 7100.0, 7200.0, 7300.0, 7400.0, 7500.0, 7600.0, 7700.0, 7800.0, 7900.0, 8000.0, 8100.0, 8200.0, 8300.0, 8400.0, 8500.0, 8600.0, 8700.0, 8800.0, 8900.0, 9000.0, 9100.0, 9200.0, 9300.0, 9400.0, 9500.0, 9600.0, 9700.0, 9800.0, 9900.0, 10000.0], 'LOLE': [2.7025198556656417e-08, 8.533651326780488e-08, 2.529265761861157e-07, 7.069944192689379e-07, 1.8725745141946193e-06, 4.717711608780204e-06, 1.134007485757854e-05, 2.6084860166387576e-05, 5.759595479501202e-05, 0.00012239514344573242, 0.0002508728507733018, 0.0004970570163247737, 0.0009537934722698246, 0.0017749536531436695, 0.0032062886933118128, 0.005625670741855285, 0.009594293503308237, 0.01592009705372243, 0.025712518541025332, 0.04039902292718089, 0.061714647193926456, 0.0916863007620396, 0.13265465692987086, 0.18704567319304508, 0.25634214354856494, 0.34007542356509735, 0.43609046332303636, 0.5422720891790997, 0.6573318922148638, 0.7754573767696623, 0.8812794933915625, 0.9561728061842143, 0.9918862876403515, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996]}
# LOLE_new_1500 = {'system_peak': [2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0, 3700.0, 3800.0, 3900.0, 4000.0, 4100.0, 4200.0, 4300.0, 4400.0, 4500.0, 4600.0, 4700.0, 4800.0, 4900.0, 5000.0, 5100.0, 5200.0, 5300.0, 5400.0, 5500.0, 5600.0, 5700.0, 5800.0, 5900.0, 6000.0, 6100.0, 6200.0, 6300.0, 6400.0, 6500.0, 6600.0, 6700.0, 6800.0, 6900.0, 7000.0, 7100.0, 7200.0, 7300.0, 7400.0, 7500.0, 7600.0, 7700.0, 7800.0, 7900.0, 8000.0, 8100.0, 8200.0, 8300.0, 8400.0, 8500.0, 8600.0, 8700.0, 8800.0, 8900.0, 9000.0, 9100.0, 9200.0, 9300.0, 9400.0, 9500.0, 9600.0, 9700.0, 9800.0, 9900.0, 10000.0], 'LOLE': [2.7281437861345488e-09, 8.652638653184609e-09, 2.5798914265758947e-08, 7.268321827974375e-08, 1.9445718168787043e-07, 4.960938386124876e-07, 1.21081034673235e-06, 2.836119934239727e-06, 6.3958904558767145e-06, 1.3924831406381872e-05, 2.933322552426588e-05, 5.991176900333165e-05, 0.00011885572137576479, 0.000229331724628911, 0.00043078449843137346, 0.0007883526398805322, 0.0014067806650221544, 0.002450423830414113, 0.004168710141930865, 0.006925562116697746, 0.011234568387061434, 0.017803494229180396, 0.02759355304133634, 0.04184583400622638, 0.06199333498931836, 0.08955072483104255, 0.12612671701813838, 0.1736164001547931, 0.23407429509522648, 0.308253666870674, 0.3941958305477432, 0.4880986976091532, 0.5872335090252238, 0.6915987029933762, 0.7979116390926951, 0.8931515440524058, 0.960555525565793, 0.9926976588763163, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996, 0.9999999999999996]}
# LOLE_new_2000 = {'system_peak': [2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0, 3700.0, 3800.0, 3900.0, 4000.0, 4100.0, 4200.0, 4300.0, 4400.0, 4500.0, 4600.0, 4700.0, 4800.0, 4900.0, 5000.0, 5100.0, 5200.0, 5300.0, 5400.0, 5500.0, 5600.0, 5700.0, 5800.0, 5900.0, 6000.0, 6100.0, 6200.0, 6300.0, 6400.0, 6500.0, 6600.0, 6700.0, 6800.0, 6900.0, 7000.0, 7100.0, 7200.0, 7300.0, 7400.0, 7500.0, 7600.0, 7700.0, 7800.0, 7900.0, 8000.0, 8100.0, 8200.0, 8300.0, 8400.0, 8500.0, 8600.0, 8700.0, 8800.0, 8900.0, 9000.0, 9100.0, 9200.0, 9300.0, 9400.0, 9500.0, 9600.0, 9700.0, 9800.0, 9900.0, 10000.0], 'LOLE': [2.753781457255704e-10, 8.771802379057825e-10, 2.6306459086649727e-09, 7.467506251064611e-09, 2.0170220557640715e-08, 5.2064712613410915e-08, 1.2886840880574233e-07, 3.068310156077974e-07, 7.050039413840815e-07, 1.5674946035019122e-06, 3.379807006522467e-06, 7.0809062117369255e-06, 1.4438080077736911e-05, 2.8689473872524844e-05, 5.561079810822581e-05, 0.00010523516695923751, 0.0001945986586045589, 0.00035201253227894517, 0.0006232695663584523, 0.0010802622602573565, 0.001832974214597966, 0.0030464520214373257, 0.004964736751505676, 0.007936422528359756, 0.012432339403959138, 0.019066184031458887, 0.028635816508075573, 0.04219583775268134, 0.06106868011512574, 0.08661936817745326, 0.12001523540271203, 0.16232391507723953, 0.2149781110418358, 0.27982673588504103, 0.35721946409287525, 0.4440914018982088, 0.5353443804048168, 0.6277799240103319, 0.7224388326940381, 0.8181204751834259, 0.9038363896471651, 0.9644999730092132, 0.9934278929886846, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997, 0.9999999999999997]}
# LOLE_new_2500 = {'LOLE': [6.821900388878155e-09, 1.695371825551448e-08, 4.0651718464787e-08, 9.427069374337578e-08, 2.119411755882638e-07, 4.631314718646006e-07, 9.8564824007843e-07, 2.0455234273524764e-06, 4.143234258004773e-06, 8.198440293434145e-06, 1.5866276901485956e-05, 3.006635993625143e-05, 5.583103707333376e-05, 0.00010162909490252742, 0.00018137955355792827, 0.00031749449535145043, 0.0005455654277839815, 0.0009209915814132431, 0.0015273696047815046, 0.00248671035641039, 0.003973227402661476, 0.00623661117361892, 0.009630980224836931, 0.014629229810971015, 0.021814476508902496, 0.03188031549166502, 0.04571595043115318, 0.06451673342380694, 0.08965546061647271, 0.12225242717335143, 0.16288997169529143, 0.21214514326147346, 0.2714334969860559, 0.34228729168378075, 0.4237519351873978, 0.5109671284249718, 0.5983387971984324, 0.6844497124715432, 0.771255017216597, 0.856326332513943, 0.9283916258417393, 0.9753357134103647, 0.9957178837978891, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998, 0.9999999999999998], 'system_peak': [2523.49, 2623.49, 2723.49, 2823.49, 2923.49, 3023.49, 3123.49, 3223.49, 3323.49, 3423.49, 3523.49, 3623.49, 3723.49, 3823.49, 3923.49, 4023.49, 4123.49, 4223.49, 4323.49, 4423.49, 4523.49, 4623.49, 4723.49, 4823.49, 4923.49, 5023.49, 5123.49, 5223.49, 5323.49, 5423.49, 5523.49, 5623.49, 5723.49, 5823.49, 5923.49, 6023.49, 6123.49, 6223.49, 6323.49, 6423.49, 6523.49, 6623.49, 6723.49, 6823.49, 6923.49, 7023.49, 7123.49, 7223.49, 7323.49, 7423.49, 7523.49, 7623.49, 7723.49, 7823.49, 7923.49, 8023.49, 8123.49, 8223.49, 8323.49, 8423.49, 8523.49, 8623.49, 8723.49, 8823.49, 8923.49, 9023.49, 9123.49, 9223.49, 9323.49, 9423.49, 9523.49, 9623.49, 9723.49, 9823.49, 9923.49, 10023.49, 10123.49, 10223.49, 10323.49, 10423.49, 10523.49]}
# LOLE_new_3000 = {'LOLE': [0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316, 0.9999994689997316], 'system_peak': [2523.49, 2623.49, 2723.49, 2823.49, 2923.49, 3023.49, 3123.49, 3223.49, 3323.49, 3423.49, 3523.49, 3623.49, 3723.49, 3823.49, 3923.49, 4023.49, 4123.49, 4223.49, 4323.49, 4423.49, 4523.49, 4623.49, 4723.49, 4823.49, 4923.49, 5023.49, 5123.49, 5223.49, 5323.49, 5423.49, 5523.49, 5623.49, 5723.49, 5823.49, 5923.49, 6023.49, 6123.49, 6223.49, 6323.49, 6423.49, 6523.49, 6623.49, 6723.49, 6823.49, 6923.49, 7023.49, 7123.49, 7223.49, 7323.49, 7423.49, 7523.49, 7623.49, 7723.49, 7823.49, 7923.49, 8023.49, 8123.49, 8223.49, 8323.49, 8423.49, 8523.49, 8623.49, 8723.49, 8823.49, 8923.49, 9023.49, 9123.49, 9223.49, 9323.49, 9423.49, 9523.49, 9623.49, 9723.49, 9823.49, 9923.49, 10023.49, 10123.49, 10223.49, 10323.49, 10423.49, 10523.49]}
LOLE_new_reduced_hydro_1 = {'LOLE': [2.3677111690615724e-05, 6.326981703611091e-05, 0.00015989890281795896, 0.00038314018279062944, 0.0008725913704385614, 0.0018926949867126709, 0.003915326260983932, 0.007733304453823618, 0.014602986834388114, 0.026394473635028393, 0.045688227244433506, 0.07576331110248295, 0.12042064889606029, 0.18343955498752243, 0.26761951529708816, 0.3736108334461364, 0.49822461768968407, 0.632541367397464, 0.761946240699172, 0.8696724963324122, 0.9437263016403681, 0.9832043371083823, 0.9975459052044711, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002, 1.0000000000000002], 'system_peak': [2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0, 2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0, 3600.0, 3700.0, 3800.0, 3900.0, 4000.0, 4100.0, 4200.0, 4300.0, 4400.0, 4500.0, 4600.0, 4700.0, 4800.0, 4900.0, 5000.0, 5100.0, 5200.0, 5300.0, 5400.0, 5500.0, 5600.0, 5700.0, 5800.0, 5900.0, 6000.0, 6100.0, 6200.0, 6300.0, 6400.0, 6500.0, 6600.0, 6700.0, 6800.0, 6900.0, 7000.0, 7100.0, 7200.0, 7300.0, 7400.0, 7500.0, 7600.0, 7700.0, 7800.0, 7900.0, 8000.0, 8100.0, 8200.0, 8300.0, 8400.0, 8500.0, 8600.0, 8700.0, 8800.0, 8900.0, 9000.0, 9100.0, 9200.0, 9300.0, 9400.0, 9500.0, 9600.0, 9700.0, 9800.0, 9900.0, 10000.0]}

# dict for thresholds
thresholds = {}

# increment
for inc in range(0,10,1):
    if globals().get('LOLE_new_reduced_hydro_%d' % inc):
        if inc == 0:
            peaks.append('base')
        else:
            peaks.append('base - 0.' + str(inc) + ' (Hydro Only)')
        lower_point_value = next(x for x in globals().get('LOLE_new_reduced_hydro_%d' % inc)['LOLE'] if x >= 0.001)
        upper_point_value = next(x for x in globals().get('LOLE_new_reduced_hydro_%d' % inc)['LOLE'] if x >= 0.8)
        lower_point_index = globals().get('LOLE_new_reduced_hydro_%d' % inc)['LOLE'].index(lower_point_value)
        upper_point_index = globals().get('LOLE_new_reduced_hydro_%d' % inc)['LOLE'].index(upper_point_value)
        thresholds[inc] = {
            'lower_point_index' : lower_point_index + 3,
            'upper_point_index' : upper_point_index + 2
        }
        continue
    break

print(thresholds)

system_peaks = {'system_peak': [2523.49,
                                2904.79,
                                3343.7,
                                3848.93,
                                4430.5,
                                5099.95,
                                5870.55,
                                6757.59,
                                7778.66,
                                8954.02,
                                10306.970000000001,
                                ],
                'year': ['2018',
                         '2019',
                         '2020',
                         '2021',
                         '2022',
                         '2023',
                         '2024',
                         '2025',
                         '2026',
                         '2027',
                         '2028',
                         ]}

plt.plot(LOLE_new_reduced_hydro_0['system_peak'][:thresholds[0]['upper_point_index']], LOLE_new_reduced_hydro_0['LOLE'][:thresholds[0]['upper_point_index']])
plt.plot(LOLE_new_reduced_hydro_1['system_peak'][thresholds[1]['lower_point_index']:thresholds[1]['upper_point_index']], LOLE_new_reduced_hydro_1['LOLE'][thresholds[1]['lower_point_index']:thresholds[1]['upper_point_index']])
# plt.plot(LOLE_new_1000['system_peak'][thresholds[1000]['lower_point_index']:thresholds[1000]['upper_point_index']], LOLE_new_1000['LOLE'][thresholds[1000]['lower_point_index']:thresholds[1000]['upper_point_index']])
# plt.plot(LOLE_new_1500['system_peak'][thresholds[1500]['lower_point_index']:thresholds[1500]['upper_point_index']], LOLE_new_1500['LOLE'][thresholds[1500]['lower_point_index']:thresholds[1500]['upper_point_index']])
# plt.plot(LOLE_new_2000['system_peak'][thresholds[2000]['lower_point_index']:thresholds[2000]['upper_point_index']], LOLE_new_2000['LOLE'][thresholds[2000]['lower_point_index']:thresholds[2000]['upper_point_index']])
# plt.plot(LOLE_new_2500['system_peak'][thresholds[2500]['lower_point_index']:thresholds[2500]['upper_point_index']], LOLE_new_2500['LOLE'][thresholds[2500]['lower_point_index']:thresholds[2500]['upper_point_index']])
# plt.plot(LOLE_new_3000['system_peak'][thresholds[3000]['lower_point_index']:thresholds[3000]['upper_point_index']], LOLE_new_3000['LOLE'][thresholds[3000]['lower_point_index']:thresholds[3000]['upper_point_index']])

# plt.axvline(x=4287.6, label='Peak Load')

# for peak in range(0,len(system_peaks['system_peak'])):
#     plt.axvline(x=system_peaks['system_peak'][peak], linewidth=1, color='black')
#     plt.text(system_peaks['system_peak'][peak], 0, system_peaks['year'][peak])


# plt.axvline(x=2523.49, linewidth=1, color='black')
# plt.axvline(x=2904.79, linewidth=1, color='black')
# plt.text(2904.79, 0, '2019')
plt.axhline(y=0.1, linewidth=1, color='red', linestyle='dashed')
plt.legend(peaks, loc='upper left')
plt.show()
